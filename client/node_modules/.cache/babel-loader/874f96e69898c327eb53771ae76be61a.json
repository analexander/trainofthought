{"ast":null,"code":"import { FaceDetection } from '../classes/FaceDetection';\nimport { FaceLandmarks } from '../classes/FaceLandmarks';\nimport { isWithFaceDetection } from './WithFaceDetection';\nexport function isWithFaceLandmarks(obj) {\n  return isWithFaceDetection(obj) && obj['landmarks'] instanceof FaceLandmarks && obj['unshiftedLandmarks'] instanceof FaceLandmarks && obj['alignedRect'] instanceof FaceDetection;\n}\nexport function extendWithFaceLandmarks(sourceObj, unshiftedLandmarks) {\n  var shift = sourceObj.detection.box;\n  var landmarks = unshiftedLandmarks.shiftBy(shift.x, shift.y);\n  var rect = landmarks.align();\n  var imageDims = sourceObj.detection.imageDims;\n  var alignedRect = new FaceDetection(sourceObj.detection.score, rect.rescale(imageDims.reverse()), imageDims);\n  var extension = {\n    landmarks: landmarks,\n    unshiftedLandmarks: unshiftedLandmarks,\n    alignedRect: alignedRect\n  };\n  return Object.assign({}, sourceObj, extension);\n}","map":{"version":3,"sources":["../../../src/factories/WithFaceLandmarks.ts"],"names":[],"mappings":"AAAA,SAAS,aAAT,QAA8B,0BAA9B;AACA,SAAS,aAAT,QAA8B,0BAA9B;AAEA,SAAS,mBAAT,QAAuD,qBAAvD;AAWA,OAAM,SAAU,mBAAV,CAA8B,GAA9B,EAAsC;AAC1C,SAAO,mBAAmB,CAAC,GAAD,CAAnB,IACF,GAAG,CAAC,WAAD,CAAH,YAA4B,aAD1B,IAEF,GAAG,CAAC,oBAAD,CAAH,YAAqC,aAFnC,IAGF,GAAG,CAAC,aAAD,CAAH,YAA8B,aAHnC;AAID;AAED,OAAM,SAAU,uBAAV,CAIJ,SAJI,EAKJ,kBALI,EAK8B;AAG1B,MAAA,KAAA,GAAA,SAAA,CAAA,SAAA,CAAA,GAAA;AACR,MAAM,SAAS,GAAG,kBAAkB,CAAC,OAAnB,CAA2C,KAAK,CAAC,CAAjD,EAAoD,KAAK,CAAC,CAA1D,CAAlB;AAEA,MAAM,IAAI,GAAG,SAAS,CAAC,KAAV,EAAb;AACQ,MAAA,SAAA,GAAA,SAAA,CAAA,SAAA,CAAA,SAAA;AACR,MAAM,WAAW,GAAG,IAAI,aAAJ,CAAkB,SAAS,CAAC,SAAV,CAAoB,KAAtC,EAA6C,IAAI,CAAC,OAAL,CAAa,SAAS,CAAC,OAAV,EAAb,CAA7C,EAAgF,SAAhF,CAApB;AAEA,MAAM,SAAS,GAAG;AAChB,IAAA,SAAS,EAAA,SADO;AAEhB,IAAA,kBAAkB,EAAA,kBAFF;AAGhB,IAAA,WAAW,EAAA;AAHK,GAAlB;AAMA,SAAO,MAAM,CAAC,MAAP,CAAc,EAAd,EAAkB,SAAlB,EAA6B,SAA7B,CAAP;AACD","sourceRoot":"","sourcesContent":["import { FaceDetection } from '../classes/FaceDetection';\r\nimport { FaceLandmarks } from '../classes/FaceLandmarks';\r\nimport { isWithFaceDetection } from './WithFaceDetection';\r\nexport function isWithFaceLandmarks(obj) {\r\n    return isWithFaceDetection(obj)\r\n        && obj['landmarks'] instanceof FaceLandmarks\r\n        && obj['unshiftedLandmarks'] instanceof FaceLandmarks\r\n        && obj['alignedRect'] instanceof FaceDetection;\r\n}\r\nexport function extendWithFaceLandmarks(sourceObj, unshiftedLandmarks) {\r\n    var shift = sourceObj.detection.box;\r\n    var landmarks = unshiftedLandmarks.shiftBy(shift.x, shift.y);\r\n    var rect = landmarks.align();\r\n    var imageDims = sourceObj.detection.imageDims;\r\n    var alignedRect = new FaceDetection(sourceObj.detection.score, rect.rescale(imageDims.reverse()), imageDims);\r\n    var extension = {\r\n        landmarks: landmarks,\r\n        unshiftedLandmarks: unshiftedLandmarks,\r\n        alignedRect: alignedRect\r\n    };\r\n    return Object.assign({}, sourceObj, extension);\r\n}\r\n//# sourceMappingURL=WithFaceLandmarks.js.map"]},"metadata":{},"sourceType":"module"}