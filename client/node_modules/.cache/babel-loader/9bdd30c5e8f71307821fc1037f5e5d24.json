{"ast":null,"code":"import { env } from '../env';\nimport { getContext2dOrThrow } from './getContext2dOrThrow';\nimport { getMediaDimensions } from './getMediaDimensions';\nimport { isMediaLoaded } from './isMediaLoaded';\nexport function createCanvas(_a) {\n  var width = _a.width,\n      height = _a.height;\n  var createCanvasElement = env.getEnv().createCanvasElement;\n  var canvas = createCanvasElement();\n  canvas.width = width;\n  canvas.height = height;\n  return canvas;\n}\nexport function createCanvasFromMedia(media, dims) {\n  var ImageData = env.getEnv().ImageData;\n\n  if (!(media instanceof ImageData) && !isMediaLoaded(media)) {\n    throw new Error('createCanvasFromMedia - media has not finished loading yet');\n  }\n\n  var _a = dims || getMediaDimensions(media),\n      width = _a.width,\n      height = _a.height;\n\n  var canvas = createCanvas({\n    width: width,\n    height: height\n  });\n\n  if (media instanceof ImageData) {\n    getContext2dOrThrow(canvas).putImageData(media, 0, 0);\n  } else {\n    getContext2dOrThrow(canvas).drawImage(media, 0, 0, width, height);\n  }\n\n  return canvas;\n}","map":null,"metadata":{},"sourceType":"module"}