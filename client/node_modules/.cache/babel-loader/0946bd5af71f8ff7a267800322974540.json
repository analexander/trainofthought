{"ast":null,"code":"import * as tf from '@tensorflow/tfjs-core';\nimport { SeparableConvParams } from './types';\nexport function extractSeparableConvParamsFactory(extractWeights, paramMappings) {\n  return function (channelsIn, channelsOut, mappedPrefix) {\n    var depthwise_filter = tf.tensor4d(extractWeights(3 * 3 * channelsIn), [3, 3, channelsIn, 1]);\n    var pointwise_filter = tf.tensor4d(extractWeights(channelsIn * channelsOut), [1, 1, channelsIn, channelsOut]);\n    var bias = tf.tensor1d(extractWeights(channelsOut));\n    paramMappings.push({\n      paramPath: mappedPrefix + \"/depthwise_filter\"\n    }, {\n      paramPath: mappedPrefix + \"/pointwise_filter\"\n    }, {\n      paramPath: mappedPrefix + \"/bias\"\n    });\n    return new SeparableConvParams(depthwise_filter, pointwise_filter, bias);\n  };\n}\nexport function loadSeparableConvParamsFactory(extractWeightEntry) {\n  return function (prefix) {\n    var depthwise_filter = extractWeightEntry(prefix + \"/depthwise_filter\", 4);\n    var pointwise_filter = extractWeightEntry(prefix + \"/pointwise_filter\", 4);\n    var bias = extractWeightEntry(prefix + \"/bias\", 1);\n    return new SeparableConvParams(depthwise_filter, pointwise_filter, bias);\n  };\n}","map":{"version":3,"sources":["../../../src/common/extractSeparableConvParamsFactory.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,EAAZ,MAAoB,uBAApB;AAEA,SAA+C,mBAA/C,QAA0E,SAA1E;AAEA,OAAM,SAAU,iCAAV,CACJ,cADI,EAEJ,aAFI,EAEyB;AAG7B,SAAO,UAAS,UAAT,EAA6B,WAA7B,EAAkD,YAAlD,EAAsE;AAC3E,QAAM,gBAAgB,GAAG,EAAE,CAAC,QAAH,CAAY,cAAc,CAAC,IAAI,CAAJ,GAAQ,UAAT,CAA1B,EAAgD,CAAC,CAAD,EAAI,CAAJ,EAAO,UAAP,EAAmB,CAAnB,CAAhD,CAAzB;AACA,QAAM,gBAAgB,GAAG,EAAE,CAAC,QAAH,CAAY,cAAc,CAAC,UAAU,GAAG,WAAd,CAA1B,EAAsD,CAAC,CAAD,EAAI,CAAJ,EAAO,UAAP,EAAmB,WAAnB,CAAtD,CAAzB;AACA,QAAM,IAAI,GAAG,EAAE,CAAC,QAAH,CAAY,cAAc,CAAC,WAAD,CAA1B,CAAb;AAEA,IAAA,aAAa,CAAC,IAAd,CACE;AAAE,MAAA,SAAS,EAAK,YAAY,GAAA;AAA5B,KADF,EAEE;AAAE,MAAA,SAAS,EAAK,YAAY,GAAA;AAA5B,KAFF,EAGE;AAAE,MAAA,SAAS,EAAK,YAAY,GAAA;AAA5B,KAHF;AAMA,WAAO,IAAI,mBAAJ,CACL,gBADK,EAEL,gBAFK,EAGL,IAHK,CAAP;AAKD,GAhBD;AAkBD;AAED,OAAM,SAAU,8BAAV,CACJ,kBADI,EACiE;AAGrE,SAAO,UAAU,MAAV,EAAwB;AAC7B,QAAM,gBAAgB,GAAG,kBAAkB,CAAiB,MAAM,GAAA,mBAAvB,EAA4C,CAA5C,CAA3C;AACA,QAAM,gBAAgB,GAAG,kBAAkB,CAAiB,MAAM,GAAA,mBAAvB,EAA4C,CAA5C,CAA3C;AACA,QAAM,IAAI,GAAG,kBAAkB,CAAiB,MAAM,GAAA,OAAvB,EAAgC,CAAhC,CAA/B;AAEA,WAAO,IAAI,mBAAJ,CACL,gBADK,EAEL,gBAFK,EAGL,IAHK,CAAP;AAKD,GAVD;AAYD","sourceRoot":"","sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { SeparableConvParams } from './types';\r\nexport function extractSeparableConvParamsFactory(extractWeights, paramMappings) {\r\n    return function (channelsIn, channelsOut, mappedPrefix) {\r\n        var depthwise_filter = tf.tensor4d(extractWeights(3 * 3 * channelsIn), [3, 3, channelsIn, 1]);\r\n        var pointwise_filter = tf.tensor4d(extractWeights(channelsIn * channelsOut), [1, 1, channelsIn, channelsOut]);\r\n        var bias = tf.tensor1d(extractWeights(channelsOut));\r\n        paramMappings.push({ paramPath: mappedPrefix + \"/depthwise_filter\" }, { paramPath: mappedPrefix + \"/pointwise_filter\" }, { paramPath: mappedPrefix + \"/bias\" });\r\n        return new SeparableConvParams(depthwise_filter, pointwise_filter, bias);\r\n    };\r\n}\r\nexport function loadSeparableConvParamsFactory(extractWeightEntry) {\r\n    return function (prefix) {\r\n        var depthwise_filter = extractWeightEntry(prefix + \"/depthwise_filter\", 4);\r\n        var pointwise_filter = extractWeightEntry(prefix + \"/pointwise_filter\", 4);\r\n        var bias = extractWeightEntry(prefix + \"/bias\", 1);\r\n        return new SeparableConvParams(depthwise_filter, pointwise_filter, bias);\r\n    };\r\n}\r\n//# sourceMappingURL=extractSeparableConvParamsFactory.js.map"]},"metadata":{},"sourceType":"module"}