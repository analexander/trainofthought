{"ast":null,"code":"// based on the qs module, but handles null objects as expected\n// fixes by Tomas Pollak.\nvar toString = Object.prototype.toString;\n\nfunction stringify(obj, prefix) {\n  if (prefix && (obj === null || typeof obj == 'undefined')) {\n    return prefix + '=';\n  } else if (toString.call(obj) == '[object Array]') {\n    return stringifyArray(obj, prefix);\n  } else if (toString.call(obj) == '[object Object]') {\n    return stringifyObject(obj, prefix);\n  } else if (toString.call(obj) == '[object Date]') {\n    return obj.toISOString();\n  } else if (prefix) {\n    // string inside array or hash\n    return prefix + '=' + encodeURIComponent(String(obj));\n  } else if (String(obj).indexOf('=') !== -1) {\n    // string with equal sign\n    return String(obj);\n  } else {\n    throw new TypeError('Cannot build a querystring out of: ' + obj);\n  }\n}\n\n;\n\nfunction stringifyArray(arr, prefix) {\n  var ret = [];\n\n  for (var i = 0, len = arr.length; i < len; i++) {\n    if (prefix) ret.push(stringify(arr[i], prefix + '[]'));else ret.push(stringify(arr[i]));\n  }\n\n  return ret.join('&');\n}\n\nfunction stringifyObject(obj, prefix) {\n  var ret = [];\n  Object.keys(obj).forEach(function (key) {\n    ret.push(stringify(obj[key], prefix ? prefix + '[' + encodeURIComponent(key) + ']' : encodeURIComponent(key)));\n  });\n  return ret.join('&');\n}\n\nexports.build = stringify;","map":null,"metadata":{},"sourceType":"script"}