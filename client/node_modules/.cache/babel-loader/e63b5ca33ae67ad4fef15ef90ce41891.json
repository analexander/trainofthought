{"ast":null,"code":"\"use strict\";\n\nmodule.exports = exports = rebuild;\nexports.usage = 'Runs \"clean\" and \"build\" at once';\n\nvar fs = require('fs');\n\nvar napi = require('./util/napi.js');\n\nfunction rebuild(gyp, argv, callback) {\n  var package_json = JSON.parse(fs.readFileSync('./package.json'));\n  var commands = [{\n    name: 'clean',\n    args: []\n  }, {\n    name: 'build',\n    args: ['rebuild']\n  }];\n  commands = napi.expand_commands(package_json, gyp.opts, commands);\n\n  for (var i = commands.length; i !== 0; i--) {\n    gyp.todo.unshift(commands[i - 1]);\n  }\n\n  process.nextTick(callback);\n}","map":null,"metadata":{},"sourceType":"script"}