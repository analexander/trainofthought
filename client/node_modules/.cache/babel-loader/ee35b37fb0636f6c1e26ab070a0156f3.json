{"ast":null,"code":"\"use strict\";\n\nvar versioning = require('../lib/util/versioning.js');\n\nvar napi = require('../lib/util/napi.js');\n\nvar existsSync = require('fs').existsSync || require('path').existsSync;\n\nvar path = require('path');\n\nmodule.exports = exports;\nexports.usage = 'Finds the require path for the node-pre-gyp installed module';\n\nexports.validate = function (package_json, opts) {\n  versioning.validate_config(package_json, opts);\n};\n\nexports.find = function (package_json_path, opts) {\n  if (!existsSync(package_json_path)) {\n    throw new Error(\"package.json does not exist at \" + package_json_path);\n  }\n\n  var package_json = require(package_json_path);\n\n  versioning.validate_config(package_json, opts);\n  var napi_build_version;\n\n  if (napi.get_napi_build_versions(package_json, opts)) {\n    napi_build_version = napi.get_best_napi_build_version(package_json, opts);\n  }\n\n  opts = opts || {};\n  if (!opts.module_root) opts.module_root = path.dirname(package_json_path);\n  var meta = versioning.evaluate(package_json, opts, napi_build_version);\n  return meta.module;\n};","map":null,"metadata":{},"sourceType":"script"}