{"ast":null,"code":"export function getModelUris(uri, defaultModelName) {\n  var defaultManifestFilename = defaultModelName + \"-weights_manifest.json\";\n\n  if (!uri) {\n    return {\n      modelBaseUri: '',\n      manifestUri: defaultManifestFilename\n    };\n  }\n\n  if (uri === '/') {\n    return {\n      modelBaseUri: '/',\n      manifestUri: \"/\" + defaultManifestFilename\n    };\n  }\n\n  var protocol = uri.startsWith('http://') ? 'http://' : uri.startsWith('https://') ? 'https://' : '';\n  uri = uri.replace(protocol, '');\n  var parts = uri.split('/').filter(function (s) {\n    return s;\n  });\n  var manifestFile = uri.endsWith('.json') ? parts[parts.length - 1] : defaultManifestFilename;\n  var modelBaseUri = protocol + (uri.endsWith('.json') ? parts.slice(0, parts.length - 1) : parts).join('/');\n  modelBaseUri = uri.startsWith('/') ? \"/\" + modelBaseUri : modelBaseUri;\n  return {\n    modelBaseUri: modelBaseUri,\n    manifestUri: modelBaseUri === '/' ? \"/\" + manifestFile : modelBaseUri + \"/\" + manifestFile\n  };\n}","map":{"version":3,"sources":["../../../src/common/getModelUris.ts"],"names":[],"mappings":"AAAA,OAAM,SAAU,YAAV,CAAuB,GAAvB,EAAgD,gBAAhD,EAAwE;AAC5E,MAAM,uBAAuB,GAAM,gBAAgB,GAAA,wBAAnD;;AAEA,MAAI,CAAC,GAAL,EAAU;AACR,WAAO;AACL,MAAA,YAAY,EAAE,EADT;AAEL,MAAA,WAAW,EAAE;AAFR,KAAP;AAID;;AAED,MAAI,GAAG,KAAK,GAAZ,EAAiB;AACf,WAAO;AACL,MAAA,YAAY,EAAE,GADT;AAEL,MAAA,WAAW,EAAE,MAAI;AAFZ,KAAP;AAID;;AACD,MAAM,QAAQ,GAAG,GAAG,CAAC,UAAJ,CAAe,SAAf,IAA4B,SAA5B,GAAwC,GAAG,CAAC,UAAJ,CAAe,UAAf,IAA6B,UAA7B,GAA0C,EAAnG;AACA,EAAA,GAAG,GAAG,GAAG,CAAC,OAAJ,CAAY,QAAZ,EAAsB,EAAtB,CAAN;AAEA,MAAM,KAAK,GAAG,GAAG,CAAC,KAAJ,CAAU,GAAV,EAAe,MAAf,CAAsB,UAAA,CAAA,EAAC;AAAI,WAAA,CAAA;AAAC,GAA5B,CAAd;AAEA,MAAM,YAAY,GAAG,GAAG,CAAC,QAAJ,CAAa,OAAb,IACjB,KAAK,CAAC,KAAK,CAAC,MAAN,GAAe,CAAhB,CADY,GAEjB,uBAFJ;AAIA,MAAI,YAAY,GAAG,QAAQ,GAAG,CAAC,GAAG,CAAC,QAAJ,CAAa,OAAb,IAAwB,KAAK,CAAC,KAAN,CAAY,CAAZ,EAAe,KAAK,CAAC,MAAN,GAAe,CAA9B,CAAxB,GAA2D,KAA5D,EAAmE,IAAnE,CAAwE,GAAxE,CAA9B;AACA,EAAA,YAAY,GAAG,GAAG,CAAC,UAAJ,CAAe,GAAf,IAAsB,MAAI,YAA1B,GAA2C,YAA1D;AAEA,SAAO;AACL,IAAA,YAAY,EAAA,YADP;AAEL,IAAA,WAAW,EAAE,YAAY,KAAK,GAAjB,GAAuB,MAAI,YAA3B,GAA+C,YAAY,GAAA,GAAZ,GAAgB;AAFvE,GAAP;AAID","sourceRoot":"","sourcesContent":["export function getModelUris(uri, defaultModelName) {\r\n    var defaultManifestFilename = defaultModelName + \"-weights_manifest.json\";\r\n    if (!uri) {\r\n        return {\r\n            modelBaseUri: '',\r\n            manifestUri: defaultManifestFilename\r\n        };\r\n    }\r\n    if (uri === '/') {\r\n        return {\r\n            modelBaseUri: '/',\r\n            manifestUri: \"/\" + defaultManifestFilename\r\n        };\r\n    }\r\n    var protocol = uri.startsWith('http://') ? 'http://' : uri.startsWith('https://') ? 'https://' : '';\r\n    uri = uri.replace(protocol, '');\r\n    var parts = uri.split('/').filter(function (s) { return s; });\r\n    var manifestFile = uri.endsWith('.json')\r\n        ? parts[parts.length - 1]\r\n        : defaultManifestFilename;\r\n    var modelBaseUri = protocol + (uri.endsWith('.json') ? parts.slice(0, parts.length - 1) : parts).join('/');\r\n    modelBaseUri = uri.startsWith('/') ? \"/\" + modelBaseUri : modelBaseUri;\r\n    return {\r\n        modelBaseUri: modelBaseUri,\r\n        manifestUri: modelBaseUri === '/' ? \"/\" + manifestFile : modelBaseUri + \"/\" + manifestFile\r\n    };\r\n}\r\n//# sourceMappingURL=getModelUris.js.map"]},"metadata":{},"sourceType":"module"}