{"ast":null,"code":"import { env } from '../env';\nexport function bufferToImage(buf) {\n  return new Promise(function (resolve, reject) {\n    if (!(buf instanceof Blob)) {\n      return reject('bufferToImage - expected buf to be of type: Blob');\n    }\n\n    var reader = new FileReader();\n\n    reader.onload = function () {\n      if (typeof reader.result !== 'string') {\n        return reject('bufferToImage - expected reader.result to be a string, in onload');\n      }\n\n      var img = env.getEnv().createImageElement();\n\n      img.onload = function () {\n        return resolve(img);\n      };\n\n      img.onerror = reject;\n      img.src = reader.result;\n    };\n\n    reader.onerror = reject;\n    reader.readAsDataURL(buf);\n  });\n}","map":null,"metadata":{},"sourceType":"module"}