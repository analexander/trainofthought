{"ast":null,"code":"import { FaceLandmarks } from '../classes/FaceLandmarks';\nimport { FaceLandmarks68 } from '../classes/FaceLandmarks68';\nimport { getContext2dOrThrow } from '../dom/getContext2dOrThrow';\nimport { isWithFaceLandmarks } from '../factories/WithFaceLandmarks';\nimport { drawContour } from './drawContour';\n\nvar DrawFaceLandmarksOptions =\n/** @class */\nfunction () {\n  function DrawFaceLandmarksOptions(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _a = options.drawLines,\n        drawLines = _a === void 0 ? true : _a,\n        _b = options.drawPoints,\n        drawPoints = _b === void 0 ? true : _b,\n        lineWidth = options.lineWidth,\n        lineColor = options.lineColor,\n        pointSize = options.pointSize,\n        pointColor = options.pointColor;\n    this.drawLines = drawLines;\n    this.drawPoints = drawPoints;\n    this.lineWidth = lineWidth || 1;\n    this.pointSize = pointSize || 2;\n    this.lineColor = lineColor || 'rgba(0, 255, 255, 1)';\n    this.pointColor = pointColor || 'rgba(255, 0, 255, 1)';\n  }\n\n  return DrawFaceLandmarksOptions;\n}();\n\nexport { DrawFaceLandmarksOptions };\n\nvar DrawFaceLandmarks =\n/** @class */\nfunction () {\n  function DrawFaceLandmarks(faceLandmarks, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    this.faceLandmarks = faceLandmarks;\n    this.options = new DrawFaceLandmarksOptions(options);\n  }\n\n  DrawFaceLandmarks.prototype.draw = function (canvasArg) {\n    var ctx = getContext2dOrThrow(canvasArg);\n    var _a = this.options,\n        drawLines = _a.drawLines,\n        drawPoints = _a.drawPoints,\n        lineWidth = _a.lineWidth,\n        lineColor = _a.lineColor,\n        pointSize = _a.pointSize,\n        pointColor = _a.pointColor;\n\n    if (drawLines && this.faceLandmarks instanceof FaceLandmarks68) {\n      ctx.strokeStyle = lineColor;\n      ctx.lineWidth = lineWidth;\n      drawContour(ctx, this.faceLandmarks.getJawOutline());\n      drawContour(ctx, this.faceLandmarks.getLeftEyeBrow());\n      drawContour(ctx, this.faceLandmarks.getRightEyeBrow());\n      drawContour(ctx, this.faceLandmarks.getNose());\n      drawContour(ctx, this.faceLandmarks.getLeftEye(), true);\n      drawContour(ctx, this.faceLandmarks.getRightEye(), true);\n      drawContour(ctx, this.faceLandmarks.getMouth(), true);\n    }\n\n    if (drawPoints) {\n      ctx.strokeStyle = pointColor;\n      ctx.fillStyle = pointColor;\n\n      var drawPoint = function drawPoint(pt) {\n        ctx.beginPath();\n        ctx.arc(pt.x, pt.y, pointSize, 0, 2 * Math.PI);\n        ctx.fill();\n      };\n\n      this.faceLandmarks.positions.forEach(drawPoint);\n    }\n  };\n\n  return DrawFaceLandmarks;\n}();\n\nexport { DrawFaceLandmarks };\nexport function drawFaceLandmarks(canvasArg, faceLandmarks) {\n  var faceLandmarksArray = Array.isArray(faceLandmarks) ? faceLandmarks : [faceLandmarks];\n  faceLandmarksArray.forEach(function (f) {\n    var landmarks = f instanceof FaceLandmarks ? f : isWithFaceLandmarks(f) ? f.landmarks : undefined;\n\n    if (!landmarks) {\n      throw new Error('drawFaceLandmarks - expected faceExpressions to be FaceLandmarks | WithFaceLandmarks<WithFaceDetection<{}>> or array thereof');\n    }\n\n    new DrawFaceLandmarks(landmarks).draw(canvasArg);\n  });\n}","map":{"version":3,"sources":["../../../src/draw/DrawFaceLandmarks.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import { FaceLandmarks } from '../classes/FaceLandmarks';\r\nimport { FaceLandmarks68 } from '../classes/FaceLandmarks68';\r\nimport { getContext2dOrThrow } from '../dom/getContext2dOrThrow';\r\nimport { isWithFaceLandmarks } from '../factories/WithFaceLandmarks';\r\nimport { drawContour } from './drawContour';\r\nvar DrawFaceLandmarksOptions = /** @class */ (function () {\r\n    function DrawFaceLandmarksOptions(options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _a = options.drawLines, drawLines = _a === void 0 ? true : _a, _b = options.drawPoints, drawPoints = _b === void 0 ? true : _b, lineWidth = options.lineWidth, lineColor = options.lineColor, pointSize = options.pointSize, pointColor = options.pointColor;\r\n        this.drawLines = drawLines;\r\n        this.drawPoints = drawPoints;\r\n        this.lineWidth = lineWidth || 1;\r\n        this.pointSize = pointSize || 2;\r\n        this.lineColor = lineColor || 'rgba(0, 255, 255, 1)';\r\n        this.pointColor = pointColor || 'rgba(255, 0, 255, 1)';\r\n    }\r\n    return DrawFaceLandmarksOptions;\r\n}());\r\nexport { DrawFaceLandmarksOptions };\r\nvar DrawFaceLandmarks = /** @class */ (function () {\r\n    function DrawFaceLandmarks(faceLandmarks, options) {\r\n        if (options === void 0) { options = {}; }\r\n        this.faceLandmarks = faceLandmarks;\r\n        this.options = new DrawFaceLandmarksOptions(options);\r\n    }\r\n    DrawFaceLandmarks.prototype.draw = function (canvasArg) {\r\n        var ctx = getContext2dOrThrow(canvasArg);\r\n        var _a = this.options, drawLines = _a.drawLines, drawPoints = _a.drawPoints, lineWidth = _a.lineWidth, lineColor = _a.lineColor, pointSize = _a.pointSize, pointColor = _a.pointColor;\r\n        if (drawLines && this.faceLandmarks instanceof FaceLandmarks68) {\r\n            ctx.strokeStyle = lineColor;\r\n            ctx.lineWidth = lineWidth;\r\n            drawContour(ctx, this.faceLandmarks.getJawOutline());\r\n            drawContour(ctx, this.faceLandmarks.getLeftEyeBrow());\r\n            drawContour(ctx, this.faceLandmarks.getRightEyeBrow());\r\n            drawContour(ctx, this.faceLandmarks.getNose());\r\n            drawContour(ctx, this.faceLandmarks.getLeftEye(), true);\r\n            drawContour(ctx, this.faceLandmarks.getRightEye(), true);\r\n            drawContour(ctx, this.faceLandmarks.getMouth(), true);\r\n        }\r\n        if (drawPoints) {\r\n            ctx.strokeStyle = pointColor;\r\n            ctx.fillStyle = pointColor;\r\n            var drawPoint = function (pt) {\r\n                ctx.beginPath();\r\n                ctx.arc(pt.x, pt.y, pointSize, 0, 2 * Math.PI);\r\n                ctx.fill();\r\n            };\r\n            this.faceLandmarks.positions.forEach(drawPoint);\r\n        }\r\n    };\r\n    return DrawFaceLandmarks;\r\n}());\r\nexport { DrawFaceLandmarks };\r\nexport function drawFaceLandmarks(canvasArg, faceLandmarks) {\r\n    var faceLandmarksArray = Array.isArray(faceLandmarks) ? faceLandmarks : [faceLandmarks];\r\n    faceLandmarksArray.forEach(function (f) {\r\n        var landmarks = f instanceof FaceLandmarks\r\n            ? f\r\n            : (isWithFaceLandmarks(f) ? f.landmarks : undefined);\r\n        if (!landmarks) {\r\n            throw new Error('drawFaceLandmarks - expected faceExpressions to be FaceLandmarks | WithFaceLandmarks<WithFaceDetection<{}>> or array thereof');\r\n        }\r\n        new DrawFaceLandmarks(landmarks).draw(canvasArg);\r\n    });\r\n}\r\n//# sourceMappingURL=DrawFaceLandmarks.js.map"]},"metadata":{},"sourceType":"module"}