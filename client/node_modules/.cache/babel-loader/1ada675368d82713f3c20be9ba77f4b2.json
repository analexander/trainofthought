{"ast":null,"code":"import { env } from '../env';\nimport { getContext2dOrThrow } from './getContext2dOrThrow';\nimport { getMediaDimensions } from './getMediaDimensions';\nimport { isMediaLoaded } from './isMediaLoaded';\nexport function createCanvas(_a) {\n  var width = _a.width,\n      height = _a.height;\n  var createCanvasElement = env.getEnv().createCanvasElement;\n  var canvas = createCanvasElement();\n  canvas.width = width;\n  canvas.height = height;\n  return canvas;\n}\nexport function createCanvasFromMedia(media, dims) {\n  var ImageData = env.getEnv().ImageData;\n\n  if (!(media instanceof ImageData) && !isMediaLoaded(media)) {\n    throw new Error('createCanvasFromMedia - media has not finished loading yet');\n  }\n\n  var _a = dims || getMediaDimensions(media),\n      width = _a.width,\n      height = _a.height;\n\n  var canvas = createCanvas({\n    width: width,\n    height: height\n  });\n\n  if (media instanceof ImageData) {\n    getContext2dOrThrow(canvas).putImageData(media, 0, 0);\n  } else {\n    getContext2dOrThrow(canvas).drawImage(media, 0, 0, width, height);\n  }\n\n  return canvas;\n}","map":{"version":3,"sources":["../../../src/dom/createCanvas.ts"],"names":[],"mappings":"AACA,SAAS,GAAT,QAAoB,QAApB;AACA,SAAS,mBAAT,QAAoC,uBAApC;AACA,SAAS,kBAAT,QAAmC,sBAAnC;AACA,SAAS,aAAT,QAA8B,iBAA9B;AAEA,OAAM,SAAU,YAAV,CAAuB,EAAvB,EAAqD;MAA5B,KAAA,GAAA,EAAA,CAAA,K;MAAO,MAAA,GAAA,EAAA,CAAA,M;AAE5B,MAAA,mBAAA,GAAA,GAAA,CAAA,MAAA,GAAA,mBAAA;AACR,MAAM,MAAM,GAAG,mBAAmB,EAAlC;AACA,EAAA,MAAM,CAAC,KAAP,GAAe,KAAf;AACA,EAAA,MAAM,CAAC,MAAP,GAAgB,MAAhB;AACA,SAAO,MAAP;AACD;AAED,OAAM,SAAU,qBAAV,CAAgC,KAAhC,EAAwF,IAAxF,EAA0G;AAEtG,MAAA,SAAA,GAAA,GAAA,CAAA,MAAA,GAAA,SAAA;;AAER,MAAI,EAAE,KAAK,YAAY,SAAnB,KAAiC,CAAC,aAAa,CAAC,KAAD,CAAnD,EAA4D;AAC1D,UAAM,IAAI,KAAJ,CAAU,4DAAV,CAAN;AACD;;AAEK,MAAA,EAAA,GAAA,IAAA,IAAA,kBAAA,CAAA,KAAA,CAAA;AAAA,MAAE,KAAA,GAAA,EAAA,CAAA,KAAF;AAAA,MAAS,MAAA,GAAA,EAAA,CAAA,MAAT;;AACN,MAAM,MAAM,GAAG,YAAY,CAAC;AAAE,IAAA,KAAK,EAAA,KAAP;AAAS,IAAA,MAAM,EAAA;AAAf,GAAD,CAA3B;;AAEA,MAAI,KAAK,YAAY,SAArB,EAAgC;AAC9B,IAAA,mBAAmB,CAAC,MAAD,CAAnB,CAA4B,YAA5B,CAAyC,KAAzC,EAAgD,CAAhD,EAAmD,CAAnD;AACD,GAFD,MAEO;AACL,IAAA,mBAAmB,CAAC,MAAD,CAAnB,CAA4B,SAA5B,CAAsC,KAAtC,EAA6C,CAA7C,EAAgD,CAAhD,EAAmD,KAAnD,EAA0D,MAA1D;AACD;;AACD,SAAO,MAAP;AACD","sourceRoot":"","sourcesContent":["import { env } from '../env';\r\nimport { getContext2dOrThrow } from './getContext2dOrThrow';\r\nimport { getMediaDimensions } from './getMediaDimensions';\r\nimport { isMediaLoaded } from './isMediaLoaded';\r\nexport function createCanvas(_a) {\r\n    var width = _a.width, height = _a.height;\r\n    var createCanvasElement = env.getEnv().createCanvasElement;\r\n    var canvas = createCanvasElement();\r\n    canvas.width = width;\r\n    canvas.height = height;\r\n    return canvas;\r\n}\r\nexport function createCanvasFromMedia(media, dims) {\r\n    var ImageData = env.getEnv().ImageData;\r\n    if (!(media instanceof ImageData) && !isMediaLoaded(media)) {\r\n        throw new Error('createCanvasFromMedia - media has not finished loading yet');\r\n    }\r\n    var _a = dims || getMediaDimensions(media), width = _a.width, height = _a.height;\r\n    var canvas = createCanvas({ width: width, height: height });\r\n    if (media instanceof ImageData) {\r\n        getContext2dOrThrow(canvas).putImageData(media, 0, 0);\r\n    }\r\n    else {\r\n        getContext2dOrThrow(canvas).drawImage(media, 0, 0, width, height);\r\n    }\r\n    return canvas;\r\n}\r\n//# sourceMappingURL=createCanvas.js.map"]},"metadata":{},"sourceType":"module"}