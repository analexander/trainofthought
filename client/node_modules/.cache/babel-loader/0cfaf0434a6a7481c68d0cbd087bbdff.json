{"ast":null,"code":"import * as tf from '@tensorflow/tfjs-core';\nimport { convLayer } from '../common';\nimport { sharedLayer } from './sharedLayers';\nexport function PNet(x, params) {\n  return tf.tidy(function () {\n    var out = sharedLayer(x, params, true);\n    var conv = convLayer(out, params.conv4_1, 'valid');\n    var max = tf.expandDims(tf.max(conv, 3), 3);\n    var prob = tf.softmax(tf.sub(conv, max), 3);\n    var regions = convLayer(out, params.conv4_2, 'valid');\n    return {\n      prob: prob,\n      regions: regions\n    };\n  });\n}","map":{"version":3,"sources":["../../../src/mtcnn/PNet.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,EAAZ,MAAoB,uBAApB;AAEA,SAAS,SAAT,QAA0B,WAA1B;AACA,SAAS,WAAT,QAA4B,gBAA5B;AAGA,OAAM,SAAU,IAAV,CAAe,CAAf,EAA+B,MAA/B,EAAiD;AACrD,SAAO,EAAE,CAAC,IAAH,CAAQ,YAAA;AAEb,QAAI,GAAG,GAAG,WAAW,CAAC,CAAD,EAAI,MAAJ,EAAY,IAAZ,CAArB;AACA,QAAM,IAAI,GAAG,SAAS,CAAC,GAAD,EAAM,MAAM,CAAC,OAAb,EAAsB,OAAtB,CAAtB;AACA,QAAM,GAAG,GAAG,EAAE,CAAC,UAAH,CAAc,EAAE,CAAC,GAAH,CAAO,IAAP,EAAa,CAAb,CAAd,EAA+B,CAA/B,CAAZ;AACA,QAAM,IAAI,GAAG,EAAE,CAAC,OAAH,CAAW,EAAE,CAAC,GAAH,CAAO,IAAP,EAAa,GAAb,CAAX,EAA8B,CAA9B,CAAb;AACA,QAAM,OAAO,GAAG,SAAS,CAAC,GAAD,EAAM,MAAM,CAAC,OAAb,EAAsB,OAAtB,CAAzB;AAEA,WAAO;AAAE,MAAA,IAAI,EAAA,IAAN;AAAQ,MAAA,OAAO,EAAA;AAAf,KAAP;AACD,GATM,CAAP;AAUD","sourceRoot":"","sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { convLayer } from '../common';\r\nimport { sharedLayer } from './sharedLayers';\r\nexport function PNet(x, params) {\r\n    return tf.tidy(function () {\r\n        var out = sharedLayer(x, params, true);\r\n        var conv = convLayer(out, params.conv4_1, 'valid');\r\n        var max = tf.expandDims(tf.max(conv, 3), 3);\r\n        var prob = tf.softmax(tf.sub(conv, max), 3);\r\n        var regions = convLayer(out, params.conv4_2, 'valid');\r\n        return { prob: prob, regions: regions };\r\n    });\r\n}\r\n//# sourceMappingURL=PNet.js.map"]},"metadata":{},"sourceType":"module"}