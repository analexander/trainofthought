{"ast":null,"code":"import { __awaiter, __generator } from \"tslib\";\nimport { env } from '../env';\nexport function fetchOrThrow(url, init) {\n  return __awaiter(this, void 0, void 0, function () {\n    var fetch, res;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          fetch = env.getEnv().fetch;\n          return [4\n          /*yield*/\n          , fetch(url, init)];\n\n        case 1:\n          res = _a.sent();\n\n          if (!(res.status < 400)) {\n            throw new Error(\"failed to fetch: (\" + res.status + \") \" + res.statusText + \", from url: \" + res.url);\n          }\n\n          return [2\n          /*return*/\n          , res];\n      }\n    });\n  });\n}","map":{"version":3,"sources":["../../../src/dom/fetchOrThrow.ts"],"names":[],"mappings":";AAAA,SAAS,GAAT,QAAoB,QAApB;AAEA,OAAM,SAAgB,YAAhB,CACJ,GADI,EAEJ,IAFI,EAEc;;;;;;AAGZ,UAAA,KAAK,GAAG,GAAG,CAAC,MAAJ,GAAa,KAArB;AACM,iBAAA,CAAA;AAAA;AAAA,YAAM,KAAK,CAAC,GAAD,EAAM,IAAN,CAAX,CAAA;;;AAAN,UAAA,GAAG,GAAG,EAAA,CAAA,IAAA,EAAN;;AACN,cAAI,EAAE,GAAG,CAAC,MAAJ,GAAa,GAAf,CAAJ,EAAyB;AACvB,kBAAM,IAAI,KAAJ,CAAU,uBAAqB,GAAG,CAAC,MAAzB,GAA+B,IAA/B,GAAoC,GAAG,CAAC,UAAxC,GAAkD,cAAlD,GAAiE,GAAG,CAAC,GAA/E,CAAN;AACD;;AACD,iBAAA,CAAA;AAAA;AAAA,YAAO,GAAP,CAAA;;;;AACD","sourceRoot":"","sourcesContent":["import { __awaiter, __generator } from \"tslib\";\r\nimport { env } from '../env';\r\nexport function fetchOrThrow(url, init) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var fetch, res;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    fetch = env.getEnv().fetch;\r\n                    return [4 /*yield*/, fetch(url, init)];\r\n                case 1:\r\n                    res = _a.sent();\r\n                    if (!(res.status < 400)) {\r\n                        throw new Error(\"failed to fetch: (\" + res.status + \") \" + res.statusText + \", from url: \" + res.url);\r\n                    }\r\n                    return [2 /*return*/, res];\r\n            }\r\n        });\r\n    });\r\n}\r\n//# sourceMappingURL=fetchOrThrow.js.map"]},"metadata":{},"sourceType":"module"}