{"ast":null,"code":"'use strict';\n\nvar stringWidth = require('string-width');\n\nmodule.exports = TemplateItem;\n\nfunction isPercent(num) {\n  if (typeof num !== 'string') return false;\n  return num.slice(-1) === '%';\n}\n\nfunction percent(num) {\n  return Number(num.slice(0, -1)) / 100;\n}\n\nfunction TemplateItem(values, outputLength) {\n  this.overallOutputLength = outputLength;\n  this.finished = false;\n  this.type = null;\n  this.value = null;\n  this.length = null;\n  this.maxLength = null;\n  this.minLength = null;\n  this.kerning = null;\n  this.align = 'left';\n  this.padLeft = 0;\n  this.padRight = 0;\n  this.index = null;\n  this.first = null;\n  this.last = null;\n\n  if (typeof values === 'string') {\n    this.value = values;\n  } else {\n    for (var prop in values) {\n      this[prop] = values[prop];\n    }\n  } // Realize percents\n\n\n  if (isPercent(this.length)) {\n    this.length = Math.round(this.overallOutputLength * percent(this.length));\n  }\n\n  if (isPercent(this.minLength)) {\n    this.minLength = Math.round(this.overallOutputLength * percent(this.minLength));\n  }\n\n  if (isPercent(this.maxLength)) {\n    this.maxLength = Math.round(this.overallOutputLength * percent(this.maxLength));\n  }\n\n  return this;\n}\n\nTemplateItem.prototype = {};\n\nTemplateItem.prototype.getBaseLength = function () {\n  var length = this.length;\n\n  if (length == null && typeof this.value === 'string' && this.maxLength == null && this.minLength == null) {\n    length = stringWidth(this.value);\n  }\n\n  return length;\n};\n\nTemplateItem.prototype.getLength = function () {\n  var length = this.getBaseLength();\n  if (length == null) return null;\n  return length + this.padLeft + this.padRight;\n};\n\nTemplateItem.prototype.getMaxLength = function () {\n  if (this.maxLength == null) return null;\n  return this.maxLength + this.padLeft + this.padRight;\n};\n\nTemplateItem.prototype.getMinLength = function () {\n  if (this.minLength == null) return null;\n  return this.minLength + this.padLeft + this.padRight;\n};","map":null,"metadata":{},"sourceType":"script"}